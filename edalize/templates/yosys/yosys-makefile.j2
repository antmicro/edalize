#Auto generated by Edalize

TARGET   := {{ name }}

all: $(TARGET).{{ default_target }}

{% if use_surelog -%}
{{ top }}.uhdm:
	$(MAKE) -f surelog.mk

DEPENDENCIES := {{ top }}.uhdm {{ script_name }}
YOSYS_BIN = uhdm-yosys
{% else %}
DEPENDENCIES := {{ script_name }}
YOSYS_BIN = yosys
{%- endif %}

%.blif: {{ script_name }}
	$(EDALIZE_LAUNCHER) yosys -l yosys.log -p "tcl $?"
%.json: {{ script_name }}
	$(EDALIZE_LAUNCHER) yosys -l yosys.log -p "tcl $?"
%.edif: {{ script_name }}
	$(EDALIZE_LAUNCHER) yosys -l yosys.log -p "tcl $?"

clean:
	rm -f $(TARGET).blif $(TARGET).json $(TARGET).edif
